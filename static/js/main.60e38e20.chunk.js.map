{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/API/API.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChange","event","setState","target","value","toLowerCase","handleSubmit","preventDefault","trim","props","onSubmit","toast","this","className","s","SearchForm","type","SearchFormButton","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","api","fetchImages","page","fetch","then","response","ok","json","Promise","reject","Error","ImageGalleryItem","image","id","webformatURL","largeImageURL","tags","ImageGalleryItemImage","src","alt","ImageGallery","gallery","onClick","map","item","applyLoader","Loader","color","height","width","Button","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","children","App","curretPage","loading","showModal","largeImageUrl","fetchImagesGallery","currentPage","data","prevState","hits","scrollTo","top","documentElement","scrollHeight","behavior","catch","error","finally","handleQueryChange","query","openModal","nodeName","dataset","source","closeModal","prevProps","container","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.60e38e20.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Loader_Loader__17sQZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__aOmNj\",\"Searchbar\":\"App_Searchbar__oOa8f\"};","import { Component } from \"react\";\nimport { ImSearch } from \"react-icons/im\";\nimport { toast } from \"react-toastify\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleChange = (event) => {\n    this.setState({ searchQuery: event.target.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    if (this.state.searchQuery.trim() === \"\") {\n      toast(\"Enter your query!\");\n      return;\n    }\n\n    const { searchQuery } = this.state;\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <ImSearch />\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            value={searchQuery}\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","const BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23855124-9744a76c55c8d410f772c2e55\";\nconst PER_PAGE = 12;\n\nfunction fetchImages(searchQuery, page) {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(new Error(`No results found for ${searchQuery}`));\n  });\n}\n\nconst api = { fetchImages };\n\nexport default api;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({\n  image: { id, webformatURL, largeImageURL, tags },\n}) {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        className={s.ImageGalleryItemImage}\n        id={id}\n        src={webformatURL}\n        alt={tags}\n        data-source={largeImageURL}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.object.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.jsx\";\nimport s from \"./ImageGallery.module.css\";\n\nfunction ImageGallery({ gallery, onClick }) {\n  return (\n    <ul className={s.ImageGallery} onClick={onClick}>\n      {gallery.map((item) => (\n        <ImageGalleryItem key={item.id} image={item} />\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.array.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport s from \"./Loader.module.css\";\n\nconst applyLoader = () => {\n  return (\n    <Loader\n      className={s.Loader}\n      type=\"Grid\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n    />\n  );\n};\nexport default applyLoader;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ onClick }) => (\n  <button type=\"button\" onClick={onClick} className={s.Button}>\n    Load more\n  </button>\n);\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) this.props.onClose();\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport Searchbar from \"../Searchbar/Searchbar.jsx\";\nimport api from \"../API/API.js\";\nimport ImageGallery from \"../ImageGallery/ImageGallery.jsx\";\nimport Loader from \"../Loader/Loader.jsx\";\nimport Button from \"../Button/Button.jsx\";\nimport Modal from \"../Modal/Modal.jsx\";\nimport s from \"./App.module.css\";\n\nclass App extends Component {\n  state = {\n    curretPage: 1,\n    gallery: [],\n    searchQuery: \"\",\n    loading: false,\n    showModal: false,\n    largeImageUrl: \"\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImagesGallery();\n    }\n  }\n\n  fetchImagesGallery = () => {\n    const { currentPage, searchQuery } = this.state;\n    this.setState({ loading: true });\n\n    api\n      .fetchImages(searchQuery, currentPage)\n      .then((data) =>\n        this.setState((prevState) => ({\n          gallery: [...prevState.gallery, ...data.hits],\n          currentPage: prevState.currentPage + 1,\n        }))\n      )\n      .then(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      })\n      .catch((error) => this.setState({ error }))\n      .finally(() => this.setState({ loading: false }));\n  };\n\n  handleQueryChange = (query) => {\n    this.setState({ gallery: [], searchQuery: query, currentPage: 1 });\n  };\n\n  openModal = (event) => {\n    if (event.target.nodeName === \"IMG\") {\n      this.setState({\n        showModal: true,\n        largeImageUrl: event.target.dataset.source,\n      });\n    }\n  };\n\n  closeModal = () => {\n    this.setState({ showModal: false, largeImageUrl: \"\" });\n  };\n\n  render() {\n    const {\n      gallery,\n      loading,\n      largeImageUrl,\n      showModal,\n      searchQuery,\n      currentPage,\n    } = this.state;\n    return (\n      <div className={s.container}>\n        <Searchbar onSubmit={this.handleQueryChange} />\n        <ImageGallery\n          gallery={gallery}\n          searchQuery={searchQuery}\n          currentPage={currentPage}\n          onClick={this.openModal}\n        />\n        {showModal && (\n          <Modal onClose={this.closeModal} largeImageURL={largeImageUrl}>\n            <img src={largeImageUrl} alt={this.state.tags} />\n          </Modal>\n        )}\n        {loading && <Loader />}\n        {gallery.length > 0 && !loading && (\n          <Button onClick={this.fetchImagesGallery} />\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};"],"sourceRoot":""}